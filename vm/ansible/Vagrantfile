# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure(2) do |config|

	config.vm.define "ansible" do |a|
		a.vm.box = "ubuntu/wily64"
		a.vm.hostname = "ansible"
		a.vm.network :private_network, ip: "10.0.0.5"
		a.vm.provision "shell",
			path: "provision.sh"
		a.vm.provision "shell",
			privileged: false,
			inline: "[ -f ~/.ssh/id_rsa ] || ssh-keygen -f ~/.ssh/id_rsa -t rsa -b 4096 -N ''"
		a.vm.synced_folder "vagrant_share", "/vagrant", :mount_options => ["fmode=666"]
	end
end
